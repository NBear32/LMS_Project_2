{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Documents\\\\GitHub\\\\React\\\\my_app\\\\src\\\\Components\\\\240724\\\\OpenWeather.js\",\n  _s = $RefreshSig$();\nimport styled from \"styled-components\";\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`;\n_c = Container;\nconst Card = styled.div`\n    width: 500px;\n    height: 300px;\n    // 웹페이지 색은 단색 보다는 gradient 가 좋음\n    background: linear-gradient(90deg, lightblue, dodgerblue);\n    // background: linear-gradient(90deg, #ff7e5f, #feb47b);\n    color: white;\n    border-radius: 10px; // 모서리 라운드\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n`;\n_c2 = Card;\nconst Icon = styled.div`\n    text-align: center;\n    img {\n        width: 100%;\n        margin-top: 20px;\n    }\n`;\n_c3 = Icon;\nconst Weather = styled.div`\n    display: flex;\n    flex-direction: column;\n    text-align: end; // 오른쪽 정렬\n`;\n_c4 = Weather;\nconst Temp = styled.div`\n    margin-top: 20px;\n    font-size: 5rem;\n    i {\n        font-size: 3.5rem;\n    }\n`;\n_c5 = Temp;\nconst City = styled.div`\n    font-size: 2.5rem;\n`;\n_c6 = City;\nconst Info = styled.div`\n    font-size: 1.5rem;\n    margin-top: 30px;\n`;\n_c7 = Info;\nexport function OpenWeather() {\n  _s();\n  const API_KEY = \"b5c0480ce07be15b9bd84a3754bee904\";\n  const [icon, setIcon] = useState(\"\");\n  const [temp, setTemp] = useState(0);\n  const [city, setCity] = useState(\"\");\n  const [weather, setWeather] = useState(\"\");\n\n  // // useEffect 를 사용 빈 배열 처리를 해야 처음 한번만 처리됨\n  // useEffect(() => {\n  //     setIcon(\"@4d\");\n  //     setTemp(28);\n  //     setCity(\"Daejeon\");\n  //     setWeather(\"Clouds\");\n  // }, []);\n\n  useEffect(() => {\n    navigator.geolocation.getCurrentPosition(geoOK, geoError);\n  }, []); // 최초 1회만\n\n  function geoOK(position) {\n    const lat = position.coords.latitude;\n    const lon = position.coords.longitude;\n    const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=metric`;\n    fetch(url).then(response => {\n      return response.json();\n    }).then(data => {\n      console.log(data);\n      setCity(data.name);\n      setTemp(parseInt(data.main.temp));\n      setIcon(data.weather);\n      setWeather(\"Clouds\");\n    }).catch(error => {\n      console.log(\"요청이 실패했습니다.\", error);\n    });\n  }\n  function geoError() {\n    alert(\"현재 위치정보를 찾을 수 없습니다.\");\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(Icon, {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `https://openweathermap.org/img/wn/${icon}@2x.png`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Weather, {\n          children: [/*#__PURE__*/_jsxDEV(Temp, {\n            children: [temp, /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"ti ti-temperature-celsius\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(City, {\n            children: city\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Info, {\n            children: weather\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(OpenWeather, \"+gnb5LUB4X7d2PQI3mYqNUCzOVY=\");\n_c8 = OpenWeather;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Card\");\n$RefreshReg$(_c3, \"Icon\");\n$RefreshReg$(_c4, \"Weather\");\n$RefreshReg$(_c5, \"Temp\");\n$RefreshReg$(_c6, \"City\");\n$RefreshReg$(_c7, \"Info\");\n$RefreshReg$(_c8, \"OpenWeather\");","map":{"version":3,"names":["styled","useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","Container","div","_c","Card","_c2","Icon","_c3","Weather","_c4","Temp","_c5","City","_c6","Info","_c7","OpenWeather","_s","API_KEY","icon","setIcon","temp","setTemp","city","setCity","weather","setWeather","navigator","geolocation","getCurrentPosition","geoOK","geoError","position","lat","coords","latitude","lon","longitude","url","fetch","then","response","json","data","console","log","name","parseInt","main","catch","error","alert","children","src","fileName","_jsxFileName","lineNumber","columnNumber","className","_c8","$RefreshReg$"],"sources":["C:/Users/admin/Documents/GitHub/React/my_app/src/Components/240724/OpenWeather.js"],"sourcesContent":["import styled from \"styled-components\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst Container = styled.div`\r\n    width: 100vw;\r\n    height: 100vh;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\n\r\nconst Card = styled.div`\r\n    width: 500px;\r\n    height: 300px;\r\n    // 웹페이지 색은 단색 보다는 gradient 가 좋음\r\n    background: linear-gradient(90deg, lightblue, dodgerblue);\r\n    // background: linear-gradient(90deg, #ff7e5f, #feb47b);\r\n    color: white;\r\n    border-radius: 10px; // 모서리 라운드\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n`;\r\n\r\nconst Icon = styled.div`\r\n    text-align: center;\r\n    img {\r\n        width: 100%;\r\n        margin-top: 20px;\r\n    }\r\n`;\r\n\r\nconst Weather = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    text-align: end; // 오른쪽 정렬\r\n`;\r\n\r\nconst Temp = styled.div`\r\n    margin-top: 20px;\r\n    font-size: 5rem;\r\n    i {\r\n        font-size: 3.5rem;\r\n    }\r\n`;\r\n\r\nconst City = styled.div`\r\n    font-size: 2.5rem;\r\n`;\r\n\r\nconst Info = styled.div`\r\n    font-size: 1.5rem;\r\n    margin-top: 30px;\r\n`;\r\n\r\nexport function OpenWeather() {\r\n    const API_KEY = \"b5c0480ce07be15b9bd84a3754bee904\";\r\n\r\n    const [icon, setIcon] = useState(\"\");\r\n    const [temp, setTemp] = useState(0);\r\n    const [city, setCity] = useState(\"\");\r\n    const [weather, setWeather] = useState(\"\");\r\n\r\n    // // useEffect 를 사용 빈 배열 처리를 해야 처음 한번만 처리됨\r\n    // useEffect(() => {\r\n    //     setIcon(\"@4d\");\r\n    //     setTemp(28);\r\n    //     setCity(\"Daejeon\");\r\n    //     setWeather(\"Clouds\");\r\n    // }, []);\r\n\r\n    useEffect(() => {\r\n        navigator.geolocation.getCurrentPosition(geoOK, geoError);\r\n    }, []); // 최초 1회만\r\n\r\n    function geoOK(position) {\r\n        const lat = position.coords.latitude;\r\n        const lon = position.coords.longitude;\r\n        const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=metric`;\r\n\r\n        fetch(url)\r\n            .then((response) => {\r\n                return response.json();\r\n            })\r\n            .then((data) => {\r\n                console.log(data);\r\n\r\n                setCity(data.name);\r\n                setTemp(parseInt(data.main.temp));\r\n                setIcon(data.weather);\r\n                setWeather(\"Clouds\");\r\n\r\n            })\r\n            .catch((error) => {\r\n                console.log(\"요청이 실패했습니다.\", error);\r\n            });\r\n    }\r\n\r\n    function geoError() {\r\n        alert(\"현재 위치정보를 찾을 수 없습니다.\");\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Container>\r\n                {/* 왼쪽 아이콘, 오른쪽 위 온도, 아래 도시 */}\r\n                <Card>\r\n                    <Icon>\r\n                        <img\r\n                            src={`https://openweathermap.org/img/wn/${icon}@2x.png`}\r\n                        />\r\n                    </Icon>\r\n                    <Weather>\r\n                        <Temp>\r\n                            {temp}\r\n                            <i className=\"ti ti-temperature-celsius\"></i>\r\n                        </Temp>\r\n                        <City>{city}</City>\r\n                        <Info>{weather}</Info>\r\n                    </Weather>\r\n                </Card>\r\n            </Container>\r\n        </>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}