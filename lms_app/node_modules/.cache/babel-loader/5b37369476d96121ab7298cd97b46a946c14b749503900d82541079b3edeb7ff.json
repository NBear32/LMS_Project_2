{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\lms_app\\\\src\\\\Components\\\\LMS\\\\Community\\\\QA.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { getAllQuestions, searchQuestions, getQuestionById, createQuestion, getCurrentUser, answerQuestion,\n// 답변 API 추가\ndeleteQuestion } from \"../../../Api/CommunityApi/CommunityApi\"; // 필요한 API 가져오기\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function QA() {\n  _s();\n  var _selectedQuestion$use;\n  const [questions, setQuestions] = useState([]); // 질문 데이터를 저장할 상태\n  const [currentPage, setCurrentPage] = useState(1); // 현재 페이지\n  const [totalPages, setTotalPages] = useState(0); // 전체 페이지 수\n  const [category, setCategory] = useState(\"all\"); // 선택된 카테고리\n  const [keyword, setKeyword] = useState(\"\"); // 검색 키워드\n  const [selectedQuestion, setSelectedQuestion] = useState(null); // 선택한 질문 (상세보기)\n  const [isLoggedIn, setIsLoggedIn] = useState(false); // 로그인 상태\n  const [isAdmin, setIsAdmin] = useState(false); // 관리자 여부 확인\n  const [showAnswerForm, setShowAnswerForm] = useState(false); // 답변 폼 표시 여부\n  const [newQuestion, setNewQuestion] = useState({\n    title: \"\",\n    content: \"\",\n    category: \"01\" // 기본 카테고리 설정\n  }); // 새 질문 데이터 상태\n  const [currentUser, setCurrentUser] = useState(null); // 로그인한 사용자 정보 상태\n  const [answerContent, setAnswerContent] = useState(\"\"); // 답변 내용 상태\n  const pageSize = 5; // 한 페이지에 표시할 항목 수\n\n  // 서버로부터 질문 데이터를 가져오는 함수\n  const fetchQuestions = async (page = 1, selectedCategory = \"all\") => {\n    try {\n      const data = await getAllQuestions(page - 1, pageSize, selectedCategory !== \"all\" ? selectedCategory : null);\n      setQuestions(data.content); // 질문 데이터\n      setTotalPages(data.totalPages); // 전체 페이지 수\n      setCurrentPage(page); // 현재 페이지\n    } catch (error) {\n      console.error(\"Error fetching questions:\", error);\n    }\n  };\n\n  // 로그인 상태 확인 함수\n  const checkLoginStatus = async () => {\n    try {\n      const user = await getCurrentUser(); // 현재 사용자 정보 가져오기\n      if (user && user.userId) {\n        setIsLoggedIn(true);\n        setCurrentUser(user); // 사용자 정보 저장\n\n        // 현재 사용자 권한 로그 확인\n        console.log(\"현재 사용자 권한:\", user.authority);\n\n        // 권한 체크: user.authority.authorityName 사용\n        if (user.authority && typeof user.authority === 'object') {\n          const isAdminUser = user.authority.authorityName === \"ROLE_ADMIN\"; // 수정된 부분\n          setIsAdmin(isAdminUser);\n          console.log(\"관리자 권한 여부:\", isAdminUser); // 관리자 여부 확인용 로그\n        } else {\n          console.warn(\"User authority is not in expected format:\", user.authority);\n        }\n      } else {\n        setIsLoggedIn(false);\n      }\n    } catch (error) {\n      console.error(\"Error fetching current user:\", error);\n    }\n  };\n\n  // 답변 폼 표시 토글\n  const toggleAnswerForm = () => {\n    setShowAnswerForm(!showAnswerForm); // 버튼을 누르면 폼을 토글로 보여주거나 숨김\n  };\n\n  // 검색을 수행하는 함수\n  const handleSearch = async () => {\n    try {\n      if (keyword.trim()) {\n        const data = await searchQuestions(keyword, currentPage - 1, pageSize);\n        setQuestions(data.content); // 검색된 질문 데이터\n        setTotalPages(data.totalPages); // 전체 페이지 수\n      } else {\n        fetchQuestions(currentPage, category); // 검색어가 없으면 전체 목록을 다시 불러옴\n      }\n    } catch (error) {\n      console.error(\"Error searching questions:\", error);\n    }\n  };\n\n  // 질문 제출 처리 함수\n  const handleSubmitQuestion = async e => {\n    e.preventDefault();\n    if (!currentUser || !currentUser.userId) {\n      alert(\"로그인 정보가 유효하지 않습니다.\");\n      return;\n    }\n    try {\n      const questionData = {\n        lmsQaTitle: newQuestion.title,\n        lmsQaContent: newQuestion.content,\n        categoryId: newQuestion.category,\n        lmsQaWritingDate: new Date().toISOString().split(\"T\")[0],\n        // 작성일 설정\n        user: {\n          userId: currentUser.userId,\n          userNameKor: currentUser.userNameKor\n        }\n      };\n      await createQuestion(questionData); // 질문 생성 API 호출\n\n      alert(\"질문이 등록됐습니다.\");\n      setNewQuestion({\n        title: \"\",\n        content: \"\",\n        category: \"01\"\n      }); // 입력값 초기화\n      setSelectedQuestion(null); // 새 질문 폼 닫고 질문 목록으로 돌아가기\n      fetchQuestions(currentPage, category); // 새로 생성된 질문 목록 갱신\n    } catch (error) {\n      console.error(\"Error creating question:\", error);\n    }\n  };\n\n  // 답변 제출 처리 함수 (ROLE_ADMIN 사용자만 사용 가능)\n  const handleSubmitAnswer = async () => {\n    if (!answerContent.trim()) {\n      alert(\"답변 내용을 입력해주세요.\");\n      return;\n    }\n    try {\n      await answerQuestion(selectedQuestion.lmsQaSeq, {\n        lmsQaAnswerContent: answerContent,\n        lmsQaAnswerWriter: currentUser.userNameKor,\n        lmsQaAnswerDate: new Date().toISOString().split(\"T\")[0] // 작성일자 추가\n      });\n      alert(\"답변이 등록되었습니다.\");\n      setAnswerContent(\"\"); // 답변 입력 필드 초기화\n      loadQuestionDetails(selectedQuestion.lmsQaSeq); // 질문 상세 정보 갱신\n    } catch (error) {\n      console.error(\"Error submitting answer:\", error);\n    }\n  };\n\n  // 선택한 질문의 상세 정보를 로드하는 함수\n  const loadQuestionDetails = async questionId => {\n    try {\n      const question = await getQuestionById(questionId);\n      setAnswerContent(question.lmsQaAnswerContent || \"\"); // 답변 내용이 있으면 미리 채워 넣음\n      setSelectedQuestion(question); // 선택한 질문 상태 설정\n    } catch (error) {\n      console.error(\"Error loading question details:\", error);\n    }\n  };\n\n  // 목록으로 돌아가기 함수\n  const goBackToList = () => {\n    setSelectedQuestion(null); // 선택된 질문을 해제하여 목록으로 돌아감\n    setShowAnswerForm(false); // 폼 숨기기\n  };\n\n  // 페이지네이션 처리 함수\n  const handlePageChange = newPage => {\n    if (newPage > 0 && newPage <= totalPages) {\n      setCurrentPage(newPage);\n      fetchQuestions(newPage, category);\n    }\n  };\n\n  // 카테고리 선택 처리 함수\n  const handleCategoryChange = newCategory => {\n    setCategory(newCategory);\n    setCurrentPage(1); // 페이지를 처음으로 돌림\n    fetchQuestions(1, newCategory); // 선택된 카테고리로 질문 목록을 다시 불러옴\n  };\n  const handleDeleteQuestion = async () => {\n    try {\n      await deleteQuestion(selectedQuestion.lmsQaSeq); // API로 질문 삭제 요청\n      alert(\"게시글이 삭제되었습니다.\");\n      goBackToList(); // 목록으로 돌아감\n      fetchQuestions(currentPage, category); // 목록 새로고침\n    } catch (error) {\n      console.error(\"Error deleting question:\", error);\n      alert(\"게시글 삭제에 실패했습니다.\");\n    }\n  };\n\n  // 컴포넌트가 처음 렌더링될 때 질문 목록과 로그인 상태를 확인\n  useEffect(() => {\n    fetchQuestions(currentPage, category);\n    checkLoginStatus(); // 로그인 상태 확인\n  }, [category, currentPage]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\uC9C8\\uC758\\uC751\\uB2F5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this), !selectedQuestion && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleCategoryChange(\"all\"),\n          children: \"\\uC804\\uCCB4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleCategoryChange(\"01\"),\n          children: \"\\uC218\\uAC15\\uBB38\\uC758\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleCategoryChange(\"02\"),\n          children: \"\\uD68C\\uC6D0\\uC815\\uBCF4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleCategoryChange(\"03\"),\n          children: \"\\uC2DC\\uC2A4\\uD15C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleCategoryChange(\"99\"),\n          children: \"\\uAE30\\uD0C0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\uAC80\\uC0C9\\uC5B4\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\",\n          value: keyword,\n          onChange: e => setKeyword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSearch,\n          children: \"\\uAC80\\uC0C9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\uCE74\\uD14C\\uACE0\\uB9AC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\uC81C\\uBAA9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\uC791\\uC131\\uC790\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\uB4F1\\uB85D\\uC77C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\uB2F5\\uBCC0\\uC0C1\\uD0DC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: questions.map((question, index) => {\n            var _question$user;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: index + 1 + (currentPage - 1) * pageSize\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: question.categoryId === \"01\" ? \"수강문의\" : question.categoryId === \"02\" ? \"회원정보\" : question.categoryId === \"03\" ? \"시스템\" : question.categoryId === \"99\" ? \"기타\" : \"알 수 없음\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  cursor: \"pointer\",\n                  color: \"blue\"\n                },\n                onClick: () => loadQuestionDetails(question.lmsQaSeq) // 질문 제목 클릭 시 상세 보기 로드\n                ,\n                children: question.lmsQaTitle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: ((_question$user = question.user) === null || _question$user === void 0 ? void 0 : _question$user.userNameKor) || \"알 수 없음\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: question.lmsQaWritingDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: question.lmsQaAnswerCheck === \"Y\" ? \"완료\" : \"대기\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 19\n              }, this)]\n            }, question.lmsQaSeq, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handlePageChange(currentPage - 1),\n          disabled: currentPage === 1,\n          children: \"\\uC774\\uC804\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [currentPage, \" / \", totalPages]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handlePageChange(currentPage + 1),\n          disabled: currentPage === totalPages,\n          children: \"\\uB2E4\\uC74C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 11\n      }, this), isLoggedIn && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSelectedQuestion(\"new\"),\n        children: \"\\uC9C8\\uBB38 \\uC791\\uC131\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true), selectedQuestion === \"new\" && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmitQuestion,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uC0C8 \\uC9C8\\uBB38 \\uC791\\uC131\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uCE74\\uD14C\\uACE0\\uB9AC: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: newQuestion.category,\n          onChange: e => setNewQuestion({\n            ...newQuestion,\n            category: e.target.value\n          }),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"01\",\n            children: \"\\uC218\\uAC15\\uBB38\\uC758\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"02\",\n            children: \"\\uD68C\\uC6D0\\uC815\\uBCF4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"03\",\n            children: \"\\uC2DC\\uC2A4\\uD15C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"99\",\n            children: \"\\uAE30\\uD0C0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uC81C\\uBAA9: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: newQuestion.title,\n          onChange: e => setNewQuestion({\n            ...newQuestion,\n            title: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uB0B4\\uC6A9: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: newQuestion.content,\n          onChange: e => setNewQuestion({\n            ...newQuestion,\n            content: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"\\uC9C8\\uBB38 \\uB4F1\\uB85D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => goBackToList(),\n        children: \"\\uCDE8\\uC18C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 9\n    }, this), selectedQuestion && selectedQuestion !== \"new\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: selectedQuestion.lmsQaTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\uC791\\uC131\\uC790:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, this), \" \", ((_selectedQuestion$use = selectedQuestion.user) === null || _selectedQuestion$use === void 0 ? void 0 : _selectedQuestion$use.userNameKor) || \"알 수 없음\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\uC791\\uC131\\uC77C:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 14\n        }, this), \" \", selectedQuestion.lmsQaWritingDate]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\uB0B4\\uC6A9:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 14\n        }, this), \" \", selectedQuestion.lmsQaContent]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\uB2F5\\uBCC0 \\uC0C1\\uD0DC:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 14\n        }, this), \" \", selectedQuestion.lmsQaAnswerCheck === \"Y\" ? \"완료\" : \"대기\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 11\n      }, this), selectedQuestion.lmsQaAnswerContent && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\uB2F5\\uBCC0 \\uB0B4\\uC6A9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: selectedQuestion.lmsQaAnswerContent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true), isAdmin && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"\\uB2F5\\uBCC0 \", selectedQuestion.lmsQaAnswerContent ? \"수정\" : \"작성\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: answerContent,\n          onChange: e => setAnswerContent(e.target.value),\n          placeholder: \"\\uB2F5\\uBCC0 \\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmitAnswer,\n          children: selectedQuestion.lmsQaAnswerContent ? \"답변 수정\" : \"답변 등록\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 13\n      }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDeleteQuestion,\n        children: \"\\uAC8C\\uC2DC\\uAE00 \\uC0AD\\uC81C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: goBackToList,\n        children: \"\\uBAA9\\uB85D\\uC73C\\uB85C \\uB3CC\\uC544\\uAC00\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 194,\n    columnNumber: 5\n  }, this);\n}\n_s(QA, \"8y4gia1xsmaZ6s13ykbNzZSPx+Q=\");\n_c = QA;\nvar _c;\n$RefreshReg$(_c, \"QA\");","map":{"version":3,"names":["React","useState","useEffect","styled","getAllQuestions","searchQuestions","getQuestionById","createQuestion","getCurrentUser","answerQuestion","deleteQuestion","jsxDEV","_jsxDEV","Fragment","_Fragment","QA","_s","_selectedQuestion$use","questions","setQuestions","currentPage","setCurrentPage","totalPages","setTotalPages","category","setCategory","keyword","setKeyword","selectedQuestion","setSelectedQuestion","isLoggedIn","setIsLoggedIn","isAdmin","setIsAdmin","showAnswerForm","setShowAnswerForm","newQuestion","setNewQuestion","title","content","currentUser","setCurrentUser","answerContent","setAnswerContent","pageSize","fetchQuestions","page","selectedCategory","data","error","console","checkLoginStatus","user","userId","log","authority","isAdminUser","authorityName","warn","toggleAnswerForm","handleSearch","trim","handleSubmitQuestion","e","preventDefault","alert","questionData","lmsQaTitle","lmsQaContent","categoryId","lmsQaWritingDate","Date","toISOString","split","userNameKor","handleSubmitAnswer","lmsQaSeq","lmsQaAnswerContent","lmsQaAnswerWriter","lmsQaAnswerDate","loadQuestionDetails","questionId","question","goBackToList","handlePageChange","newPage","handleCategoryChange","newCategory","handleDeleteQuestion","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","placeholder","value","onChange","target","map","index","_question$user","style","cursor","color","lmsQaAnswerCheck","disabled","onSubmit","required","_c","$RefreshReg$"],"sources":["C:/Users/User/Documents/GitHub/lms_app/src/Components/LMS/Community/QA.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  getAllQuestions,\r\n  searchQuestions,\r\n  getQuestionById,\r\n  createQuestion,\r\n  getCurrentUser,\r\n  answerQuestion, // 답변 API 추가\r\n  deleteQuestion,\r\n} from \"../../../Api/CommunityApi/CommunityApi\"; // 필요한 API 가져오기\r\n\r\nexport function QA() {\r\n  const [questions, setQuestions] = useState([]); // 질문 데이터를 저장할 상태\r\n  const [currentPage, setCurrentPage] = useState(1); // 현재 페이지\r\n  const [totalPages, setTotalPages] = useState(0); // 전체 페이지 수\r\n  const [category, setCategory] = useState(\"all\"); // 선택된 카테고리\r\n  const [keyword, setKeyword] = useState(\"\"); // 검색 키워드\r\n  const [selectedQuestion, setSelectedQuestion] = useState(null); // 선택한 질문 (상세보기)\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false); // 로그인 상태\r\n  const [isAdmin, setIsAdmin] = useState(false); // 관리자 여부 확인\r\n  const [showAnswerForm, setShowAnswerForm] = useState(false); // 답변 폼 표시 여부\r\n  const [newQuestion, setNewQuestion] = useState({\r\n    title: \"\",\r\n    content: \"\",\r\n    category: \"01\", // 기본 카테고리 설정\r\n  }); // 새 질문 데이터 상태\r\n  const [currentUser, setCurrentUser] = useState(null); // 로그인한 사용자 정보 상태\r\n  const [answerContent, setAnswerContent] = useState(\"\"); // 답변 내용 상태\r\n  const pageSize = 5; // 한 페이지에 표시할 항목 수\r\n\r\n  // 서버로부터 질문 데이터를 가져오는 함수\r\n  const fetchQuestions = async (page = 1, selectedCategory = \"all\") => {\r\n    try {\r\n      const data = await getAllQuestions(page - 1, pageSize, selectedCategory !== \"all\" ? selectedCategory : null);\r\n      setQuestions(data.content); // 질문 데이터\r\n      setTotalPages(data.totalPages); // 전체 페이지 수\r\n      setCurrentPage(page); // 현재 페이지\r\n    } catch (error) {\r\n      console.error(\"Error fetching questions:\", error);\r\n    }\r\n  };\r\n\r\n  // 로그인 상태 확인 함수\r\n  const checkLoginStatus = async () => {\r\n    try {\r\n      const user = await getCurrentUser(); // 현재 사용자 정보 가져오기\r\n      if (user && user.userId) {\r\n        setIsLoggedIn(true);\r\n        setCurrentUser(user); // 사용자 정보 저장\r\n\r\n        // 현재 사용자 권한 로그 확인\r\n        console.log(\"현재 사용자 권한:\", user.authority);\r\n\r\n        // 권한 체크: user.authority.authorityName 사용\r\n        if (user.authority && typeof user.authority === 'object') {\r\n          const isAdminUser = user.authority.authorityName === \"ROLE_ADMIN\"; // 수정된 부분\r\n          setIsAdmin(isAdminUser);\r\n          console.log(\"관리자 권한 여부:\", isAdminUser); // 관리자 여부 확인용 로그\r\n        } else {\r\n          console.warn(\"User authority is not in expected format:\", user.authority);\r\n        }\r\n      } else {\r\n        setIsLoggedIn(false);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching current user:\", error);\r\n    }\r\n  };\r\n\r\n  // 답변 폼 표시 토글\r\n  const toggleAnswerForm = () => {\r\n    setShowAnswerForm(!showAnswerForm); // 버튼을 누르면 폼을 토글로 보여주거나 숨김\r\n  };\r\n\r\n  // 검색을 수행하는 함수\r\n  const handleSearch = async () => {\r\n    try {\r\n      if (keyword.trim()) {\r\n        const data = await searchQuestions(keyword, currentPage - 1, pageSize);\r\n        setQuestions(data.content); // 검색된 질문 데이터\r\n        setTotalPages(data.totalPages); // 전체 페이지 수\r\n      } else {\r\n        fetchQuestions(currentPage, category); // 검색어가 없으면 전체 목록을 다시 불러옴\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error searching questions:\", error);\r\n    }\r\n  };\r\n\r\n  // 질문 제출 처리 함수\r\n  const handleSubmitQuestion = async (e) => {\r\n    e.preventDefault();\r\n    if (!currentUser || !currentUser.userId) {\r\n        alert(\"로그인 정보가 유효하지 않습니다.\");\r\n        return;\r\n    }\r\n\r\n    try {\r\n        const questionData = {\r\n            lmsQaTitle: newQuestion.title,\r\n            lmsQaContent: newQuestion.content,\r\n            categoryId: newQuestion.category,\r\n            lmsQaWritingDate: new Date().toISOString().split(\"T\")[0], // 작성일 설정\r\n            user: {\r\n                userId: currentUser.userId,\r\n                userNameKor: currentUser.userNameKor,\r\n            },\r\n        };\r\n        await createQuestion(questionData); // 질문 생성 API 호출\r\n\r\n        alert(\"질문이 등록됐습니다.\");\r\n\r\n        setNewQuestion({ title: \"\", content: \"\", category: \"01\" }); // 입력값 초기화\r\n        setSelectedQuestion(null); // 새 질문 폼 닫고 질문 목록으로 돌아가기\r\n        fetchQuestions(currentPage, category); // 새로 생성된 질문 목록 갱신\r\n    } catch (error) {\r\n        console.error(\"Error creating question:\", error);\r\n    }\r\n  };\r\n\r\n  // 답변 제출 처리 함수 (ROLE_ADMIN 사용자만 사용 가능)\r\n  const handleSubmitAnswer = async () => {\r\n    if (!answerContent.trim()) {\r\n      alert(\"답변 내용을 입력해주세요.\");\r\n      return;\r\n    }\r\n  \r\n    try {\r\n      await answerQuestion(selectedQuestion.lmsQaSeq, {\r\n        lmsQaAnswerContent: answerContent,\r\n        lmsQaAnswerWriter: currentUser.userNameKor,\r\n        lmsQaAnswerDate: new Date().toISOString().split(\"T\")[0], // 작성일자 추가\r\n      });\r\n      alert(\"답변이 등록되었습니다.\");\r\n      setAnswerContent(\"\"); // 답변 입력 필드 초기화\r\n      loadQuestionDetails(selectedQuestion.lmsQaSeq); // 질문 상세 정보 갱신\r\n    } catch (error) {\r\n      console.error(\"Error submitting answer:\", error);\r\n    }\r\n  };\r\n\r\n  // 선택한 질문의 상세 정보를 로드하는 함수\r\n  const loadQuestionDetails = async (questionId) => {\r\n    try {\r\n      const question = await getQuestionById(questionId);\r\n      setAnswerContent(question.lmsQaAnswerContent || \"\"); // 답변 내용이 있으면 미리 채워 넣음\r\n      setSelectedQuestion(question); // 선택한 질문 상태 설정\r\n    } catch (error) {\r\n      console.error(\"Error loading question details:\", error);\r\n    }\r\n  };\r\n\r\n  // 목록으로 돌아가기 함수\r\n  const goBackToList = () => {\r\n    setSelectedQuestion(null); // 선택된 질문을 해제하여 목록으로 돌아감\r\n    setShowAnswerForm(false); // 폼 숨기기\r\n  };\r\n\r\n  // 페이지네이션 처리 함수\r\n  const handlePageChange = (newPage) => {\r\n    if (newPage > 0 && newPage <= totalPages) {\r\n      setCurrentPage(newPage);\r\n      fetchQuestions(newPage, category);\r\n    }\r\n  };\r\n\r\n  // 카테고리 선택 처리 함수\r\n  const handleCategoryChange = (newCategory) => {\r\n    setCategory(newCategory);\r\n    setCurrentPage(1); // 페이지를 처음으로 돌림\r\n    fetchQuestions(1, newCategory); // 선택된 카테고리로 질문 목록을 다시 불러옴\r\n  };\r\n\r\n  const handleDeleteQuestion = async () => {\r\n    try {\r\n      await deleteQuestion(selectedQuestion.lmsQaSeq); // API로 질문 삭제 요청\r\n      alert(\"게시글이 삭제되었습니다.\");\r\n      goBackToList(); // 목록으로 돌아감\r\n      fetchQuestions(currentPage, category); // 목록 새로고침\r\n    } catch (error) {\r\n      console.error(\"Error deleting question:\", error);\r\n      alert(\"게시글 삭제에 실패했습니다.\");\r\n    }\r\n  };\r\n\r\n  // 컴포넌트가 처음 렌더링될 때 질문 목록과 로그인 상태를 확인\r\n  useEffect(() => {\r\n    fetchQuestions(currentPage, category);\r\n    checkLoginStatus(); // 로그인 상태 확인\r\n  }, [category, currentPage]);\r\n\r\n  return (\r\n    <div>\r\n      <h1>질의응답</h1>\r\n  \r\n      {/* 선택한 질문이 없을 때만 질문 목록 및 검색 표시 */}\r\n      {!selectedQuestion && (\r\n        <>\r\n          {/* 카테고리 버튼 */}\r\n          <div>\r\n            <button onClick={() => handleCategoryChange(\"all\")}>전체</button>\r\n            <button onClick={() => handleCategoryChange(\"01\")}>수강문의</button>\r\n            <button onClick={() => handleCategoryChange(\"02\")}>회원정보</button>\r\n            <button onClick={() => handleCategoryChange(\"03\")}>시스템</button>\r\n            <button onClick={() => handleCategoryChange(\"99\")}>기타</button>\r\n          </div>\r\n  \r\n          {/* 검색 창 */}\r\n          <div>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"검색어를 입력하세요\"\r\n              value={keyword}\r\n              onChange={(e) => setKeyword(e.target.value)}\r\n            />\r\n            <button onClick={handleSearch}>검색</button>\r\n          </div>\r\n  \r\n          {/* 질문 목록 테이블 */}\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>No</th>\r\n                <th>카테고리</th>\r\n                <th>제목</th>\r\n                <th>작성자</th>\r\n                <th>등록일</th>\r\n                <th>답변상태</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {questions.map((question, index) => (\r\n                <tr key={question.lmsQaSeq}>\r\n                  <td>{index + 1 + (currentPage - 1) * pageSize}</td>\r\n                  <td>\r\n                    {question.categoryId === \"01\"\r\n                      ? \"수강문의\"\r\n                      : question.categoryId === \"02\"\r\n                      ? \"회원정보\"\r\n                      : question.categoryId === \"03\"\r\n                      ? \"시스템\"\r\n                      : question.categoryId === \"99\"\r\n                      ? \"기타\"\r\n                      : \"알 수 없음\"}\r\n                  </td>\r\n                  <td\r\n                    style={{ cursor: \"pointer\", color: \"blue\" }}\r\n                    onClick={() => loadQuestionDetails(question.lmsQaSeq)} // 질문 제목 클릭 시 상세 보기 로드\r\n                  >\r\n                    {question.lmsQaTitle}\r\n                  </td>\r\n                  <td>{question.user?.userNameKor || \"알 수 없음\"}</td>\r\n                  <td>{question.lmsQaWritingDate}</td>\r\n                  <td>{question.lmsQaAnswerCheck === \"Y\" ? \"완료\" : \"대기\"}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n  \r\n          {/* 페이지네이션 */}\r\n          <div>\r\n            <button\r\n              onClick={() => handlePageChange(currentPage - 1)}\r\n              disabled={currentPage === 1}\r\n            >\r\n              이전\r\n            </button>\r\n            <span>\r\n              {currentPage} / {totalPages}\r\n            </span>\r\n            <button\r\n              onClick={() => handlePageChange(currentPage + 1)}\r\n              disabled={currentPage === totalPages}\r\n            >\r\n              다음\r\n            </button>\r\n          </div>\r\n  \r\n          {/* 로그인한 사용자만 \"질문 작성\" 버튼 표시 */}\r\n          {isLoggedIn && (\r\n            <button onClick={() => setSelectedQuestion(\"new\")}>\r\n              질문 작성\r\n            </button>\r\n          )}\r\n        </>\r\n      )}\r\n  \r\n      {/* 새 질문 작성 폼 */}\r\n      {selectedQuestion === \"new\" && (\r\n        <form onSubmit={handleSubmitQuestion}>\r\n          <h2>새 질문 작성</h2>\r\n          <div>\r\n            <label>카테고리: </label>\r\n            <select\r\n              value={newQuestion.category}\r\n              onChange={(e) =>\r\n                setNewQuestion({ ...newQuestion, category: e.target.value })\r\n              }\r\n            >\r\n              <option value=\"01\">수강문의</option>\r\n              <option value=\"02\">회원정보</option>\r\n              <option value=\"03\">시스템</option>\r\n              <option value=\"99\">기타</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label>제목: </label>\r\n            <input\r\n              type=\"text\"\r\n              value={newQuestion.title}\r\n              onChange={(e) =>\r\n                setNewQuestion({ ...newQuestion, title: e.target.value })\r\n              }\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label>내용: </label>\r\n            <textarea\r\n              value={newQuestion.content}\r\n              onChange={(e) =>\r\n                setNewQuestion({ ...newQuestion, content: e.target.value })\r\n              }\r\n              required\r\n            />\r\n          </div>\r\n          <button type=\"submit\">질문 등록</button>\r\n          <button type=\"button\" onClick={() => goBackToList()}>\r\n            취소\r\n          </button>\r\n        </form>\r\n      )}\r\n  \r\n      {/* 선택한 질문이 있으면 상세 보기 표시 */}\r\n      {selectedQuestion && selectedQuestion !== \"new\" && (\r\n        <div>\r\n          <h3>{selectedQuestion.lmsQaTitle}</h3>\r\n          <p>\r\n            <strong>작성자:</strong> {selectedQuestion.user?.userNameKor || \"알 수 없음\"}\r\n          </p>\r\n          <p><strong>작성일:</strong> {selectedQuestion.lmsQaWritingDate}</p>\r\n          <p><strong>내용:</strong> {selectedQuestion.lmsQaContent}</p>\r\n          <p><strong>답변 상태:</strong> {selectedQuestion.lmsQaAnswerCheck === \"Y\" ? \"완료\" : \"대기\"}</p>\r\n  \r\n          {selectedQuestion.lmsQaAnswerContent && (\r\n            <>\r\n              <h4>답변 내용</h4>\r\n              <p>{selectedQuestion.lmsQaAnswerContent}</p>\r\n            </>\r\n          )}\r\n  \r\n          {/* 관리자만 답변 폼 표시 */}\r\n          {isAdmin && (\r\n            <div>\r\n              <h3>답변 {selectedQuestion.lmsQaAnswerContent ? \"수정\" : \"작성\"}</h3>\r\n              <textarea\r\n                value={answerContent}\r\n                onChange={(e) => setAnswerContent(e.target.value)}\r\n                placeholder=\"답변 내용을 입력하세요.\"\r\n              />\r\n              <button onClick={handleSubmitAnswer}>\r\n                {selectedQuestion.lmsQaAnswerContent ? \"답변 수정\" : \"답변 등록\"}\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {isAdmin && (\r\n            <button onClick={handleDeleteQuestion}>\r\n              게시글 삭제\r\n            </button>\r\n          )}\r\n  \r\n          <button onClick={goBackToList}>목록으로 돌아가기</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}