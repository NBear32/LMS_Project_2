{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Documents\\\\GitHub\\\\React\\\\my_app\\\\src\\\\Components\\\\Unity\\\\TopDownAction.js\",\n  _s = $RefreshSig$();\nimport { Unity, useUnityContext } from \"react-unity-webgl\";\nimport { useState } from \"react\";\nimport styled from \"styled-components\";\n\n// 게임을 로드할 화면을 만듬\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n    width: 1344px;\n    height: 756px;\n    margin: auto;\n    border: 1px solid gray;\n`;\n_c = Container;\nexport function TopDownAction() {\n  _s();\n  // const { unityProvider } = useUnityContext({\n  //     loaderUrl: \"build/myunityapp.loader.js\",\n  //     dataUrl: \"build/myunityapp.data\",\n  //     frameworkUrl: \"build/myunityapp.framework.js\",\n  //     codeUrl: \"build/myunityapp.wasm\",\n  // });\n\n  const [playingGame, setPlayingGame] = useState(false);\n  const [isGameOver, setIsGameOver] = useState(false);\n  const [userName, setUserName] = useState();\n  const [score, setScore] = useState();\n  const {\n    unityProvider,\n    sendMessage,\n    addEventListener,\n    removeEventListener\n  } = useUnityContext({\n    loaderUrl: \"build/myunityapp.loader.js\",\n    dataUrl: \"build/myunityapp.data\",\n    frameworkUrl: \"build/myunityapp.framework.js\",\n    codeUrl: \"build/myunityapp.wasm\"\n  });\n  const handleGameOver = useCallback((userName, score) => {\n    setIsGameOver(true);\n    setUserName(userName);\n    setScore(score);\n  }, []);\n  useEffect(() => {\n    addEventListener(\"GameOver\", handleGameOver);\n    return () => {\n      removeEventListener(\"GameOver\", handleGameOver);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Top Down Action Game\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setPlayingGame(true),\n      children: \"Start Game\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => sendMessage(\"Player\", \"Attack\"),\n      children: \"Attack\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: playingGame ? /*#__PURE__*/_jsxDEV(Unity, {\n        unityProvider: unityProvider,\n        style: {\n          width: \"100%\",\n          height: \"100%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(TopDownAction, \"UXJNcYrk5mGCnhJWe0vy2lVpmNA=\", false, function () {\n  return [useUnityContext];\n});\n_c2 = TopDownAction;\nvar _c, _c2;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"TopDownAction\");","map":{"version":3,"names":["Unity","useUnityContext","useState","styled","jsxDEV","_jsxDEV","Fragment","_Fragment","Container","div","_c","TopDownAction","_s","playingGame","setPlayingGame","isGameOver","setIsGameOver","userName","setUserName","score","setScore","unityProvider","sendMessage","addEventListener","removeEventListener","loaderUrl","dataUrl","frameworkUrl","codeUrl","handleGameOver","useCallback","useEffect","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","width","height","_c2","$RefreshReg$"],"sources":["C:/Users/admin/Documents/GitHub/React/my_app/src/Components/Unity/TopDownAction.js"],"sourcesContent":["import { Unity, useUnityContext } from \"react-unity-webgl\";\r\nimport { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\n// 게임을 로드할 화면을 만듬\r\nconst Container = styled.div`\r\n    width: 1344px;\r\n    height: 756px;\r\n    margin: auto;\r\n    border: 1px solid gray;\r\n`;\r\n\r\nexport function TopDownAction() {\r\n    // const { unityProvider } = useUnityContext({\r\n    //     loaderUrl: \"build/myunityapp.loader.js\",\r\n    //     dataUrl: \"build/myunityapp.data\",\r\n    //     frameworkUrl: \"build/myunityapp.framework.js\",\r\n    //     codeUrl: \"build/myunityapp.wasm\",\r\n    // });\r\n\r\n    const [playingGame, setPlayingGame] = useState(false);\r\n\r\n\r\n\r\n    const [isGameOver, setIsGameOver] = useState(false);\r\n    const [userName, setUserName] = useState();\r\n    const [score, setScore] = useState();\r\n  \r\n    const { unityProvider, sendMessage, addEventListener, removeEventListener } =\r\n      useUnityContext({\r\n        loaderUrl: \"build/myunityapp.loader.js\",\r\n        dataUrl: \"build/myunityapp.data\",\r\n        frameworkUrl: \"build/myunityapp.framework.js\",\r\n        codeUrl: \"build/myunityapp.wasm\",\r\n      });\r\n  \r\n      const handleGameOver = useCallback((userName, score) => {\r\n        setIsGameOver(true);\r\n        setUserName(userName);\r\n        setScore(score);\r\n      }, []);\r\n    \r\n      useEffect(() => {\r\n        addEventListener(\"GameOver\", handleGameOver);\r\n        return () => {\r\n          removeEventListener(\"GameOver\", handleGameOver);\r\n        };\r\n      }, []);\r\n\r\n    return (\r\n        <>\r\n            <h1>Top Down Action Game</h1>\r\n            <button onClick={() => setPlayingGame(true)}>Start Game</button>\r\n            <button onClick={() => sendMessage(\"Player\", \"Attack\")}>\r\n                Attack\r\n            </button>\r\n            <Container>\r\n                {playingGame ? (\r\n                    <Unity\r\n                        unityProvider={unityProvider}\r\n                        style={{\r\n                            width: \"100%\",\r\n                            height: \"100%\",\r\n                        }}\r\n                    />\r\n                ) : null}\r\n            </Container>\r\n        </>\r\n    );\r\n}\r\n"],"mappings":";;AAAA,SAASA,KAAK,EAAEC,eAAe,QAAQ,mBAAmB;AAC1D,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,MAAM,MAAM,mBAAmB;;AAEtC;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,SAAS,GAAGL,MAAM,CAACM,GAAG;AAC5B;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GALIF,SAAS;AAOf,OAAO,SAASG,aAAaA,CAAA,EAAG;EAAAC,EAAA;EAC5B;EACA;EACA;EACA;EACA;EACA;;EAEA,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAIrD,MAAM,CAACa,UAAU,EAAEC,aAAa,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACe,QAAQ,EAAEC,WAAW,CAAC,GAAGhB,QAAQ,CAAC,CAAC;EAC1C,MAAM,CAACiB,KAAK,EAAEC,QAAQ,CAAC,GAAGlB,QAAQ,CAAC,CAAC;EAEpC,MAAM;IAAEmB,aAAa;IAAEC,WAAW;IAAEC,gBAAgB;IAAEC;EAAoB,CAAC,GACzEvB,eAAe,CAAC;IACdwB,SAAS,EAAE,4BAA4B;IACvCC,OAAO,EAAE,uBAAuB;IAChCC,YAAY,EAAE,+BAA+B;IAC7CC,OAAO,EAAE;EACX,CAAC,CAAC;EAEF,MAAMC,cAAc,GAAGC,WAAW,CAAC,CAACb,QAAQ,EAAEE,KAAK,KAAK;IACtDH,aAAa,CAAC,IAAI,CAAC;IACnBE,WAAW,CAACD,QAAQ,CAAC;IACrBG,QAAQ,CAACD,KAAK,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;EAENY,SAAS,CAAC,MAAM;IACdR,gBAAgB,CAAC,UAAU,EAAEM,cAAc,CAAC;IAC5C,OAAO,MAAM;MACXL,mBAAmB,CAAC,UAAU,EAAEK,cAAc,CAAC;IACjD,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAER,oBACIxB,OAAA,CAAAE,SAAA;IAAAyB,QAAA,gBACI3B,OAAA;MAAA2B,QAAA,EAAI;IAAoB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC7B/B,OAAA;MAAQgC,OAAO,EAAEA,CAAA,KAAMvB,cAAc,CAAC,IAAI,CAAE;MAAAkB,QAAA,EAAC;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAChE/B,OAAA;MAAQgC,OAAO,EAAEA,CAAA,KAAMf,WAAW,CAAC,QAAQ,EAAE,QAAQ,CAAE;MAAAU,QAAA,EAAC;IAExD;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACT/B,OAAA,CAACG,SAAS;MAAAwB,QAAA,EACLnB,WAAW,gBACRR,OAAA,CAACL,KAAK;QACFqB,aAAa,EAAEA,aAAc;QAC7BiB,KAAK,EAAE;UACHC,KAAK,EAAE,MAAM;UACbC,MAAM,EAAE;QACZ;MAAE;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,GACF;IAAI;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC;EAAA,eACd,CAAC;AAEX;AAACxB,EAAA,CAzDeD,aAAa;EAAA,QAiBvBV,eAAe;AAAA;AAAAwC,GAAA,GAjBL9B,aAAa;AAAA,IAAAD,EAAA,EAAA+B,GAAA;AAAAC,YAAA,CAAAhC,EAAA;AAAAgC,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}