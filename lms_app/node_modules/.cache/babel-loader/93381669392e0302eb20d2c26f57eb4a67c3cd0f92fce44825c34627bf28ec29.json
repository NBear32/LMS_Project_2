{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\lms_app\\\\src\\\\Components\\\\LMS\\\\Community\\\\NoticesModal.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { getAllNotices, getNoticeById, getCurrentUser, createNotice, deleteNotice } from \"../../../Api/CommunityApi/CommunityApi\";\nimport { Navbar } from \"../Navbar\";\nimport { LeftSidebar, RightSidebar } from \"../Sidebar\";\n\n// styled-components 스타일 정의\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst H1 = styled.div`\n    text-align: center;\n    display: block;\n    font-size: 2em;\n    margin-block-start: 0.67em;\n    margin-block-end: 0.67em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n    font-weight: bold;\n    unicode-bidi: isolate;\n`;\n_c = H1;\nconst NoticeBoardContainer = styled.div`\n    margin: 20px;\n    color: #e0e0e0; /* 텍스트 색상 변경 */\n    background-color: #0f1015; /* 배경색 변경 */\n    padding: 20px;\n    margin-top: 5%;\n    border-radius: 8px;\n`;\n_c2 = NoticeBoardContainer;\nconst Title = styled.h2`\n    margin-bottom: 20px;\n`;\nconst NoticeTable = styled.table`\n    width: 100%;\n    border-collapse: collapse;\n    background-color: #1c1e24; /* 배경색 짙은 회색 */\n`;\n_c3 = NoticeTable;\nconst TableHead = styled.thead`\n    background-color: #23262d; /* 테이블 헤더 배경색 어두운 회색 */\n`;\n_c4 = TableHead;\nconst TableHeader = styled.th`\n    border: 1px solid #333;\n    padding: 8px;\n    text-align: center;\n    color: #ffffff; /* 텍스트 색상 흰색 */\n`;\n_c5 = TableHeader;\nconst TableData = styled.td`\n    border: 1px solid #333;\n    padding: 8px;\n    text-align: center;\n    color: #e0e0e0; /* 텍스트 색상 밝은 회색 */\n`;\n_c6 = TableData;\nconst PaginationContainer = styled.div`\n    margin-top: 20px;\n    display: flex;\n    justify-content: center;\n`;\n_c7 = PaginationContainer;\nconst PaginationButton = styled.button`\n    margin: 0 5px;\n    padding: 5px 10px;\n    background-color: ${props => props.disabled ? '#555' : '#00adb5'}; /* 비활성화 시 어두운 회색, 활성화 시 파란색 */\n    color: white;\n    border: none;\n    cursor: ${props => props.disabled ? 'not-allowed' : 'pointer'};\n    border-radius: 4px;\n`;\n_c8 = PaginationButton;\nconst CreateNoticeButton = styled.button`\n    margin-top: 20px;\n    padding: 10px 20px;\n    background-color: #00adb5; \n    color: white;\n    border: none;\n    cursor: pointer;\n    display: block;\n    margin-left: auto;\n    border-radius: 4px;\n`;\n_c9 = CreateNoticeButton;\nconst NoticeDetail = styled.div`\n    margin: 20px 0;\n    padding: 20px;\n    border: 1px solid #333; /* 테두리 색상 어둡게 변경 */\n    background-color: #23262d; /* 상세보기 배경색 어두운 회색으로 변경 */\n    color: #e0e0e0; /* 텍스트 색상 밝은 회색으로 변경 */\n    border-radius: 8px;\n`;\n_c10 = NoticeDetail;\nconst NoticeForm = styled.form`\n    margin-top: 20px;\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n`;\n_c11 = NoticeForm;\nconst FormInput = styled.input`\n    padding: 10px;\n    border: 1px solid #444; /* 입력 필드 테두리 어둡게 변경 */\n    background-color: #1c1e24; /* 입력 필드 배경색 어두운 회색으로 변경 */\n    color: #e0e0e0; /* 입력 필드 텍스트 색상 밝은 회색으로 변경 */\n    border-radius: 4px;\n`;\n_c12 = FormInput;\nconst FormTextarea = styled.textarea`\n    padding: 10px;\n    border: 1px solid #444; /* 입력 필드 테두리 어둡게 변경 */\n    background-color: #1c1e24; /* 입력 필드 배경색 어두운 회색으로 변경 */\n    color: #e0e0e0; /* 입력 필드 텍스트 색상 밝은 회색으로 변경 */\n    border-radius: 4px;\n`;\n_c13 = FormTextarea;\nconst FormSelect = styled.select`\n    padding: 10px;\n    border: 1px solid #444; /* 선택 필드 테두리 어둡게 변경 */\n    background-color: #1c1e24; /* 선택 필드 배경색 어두운 회색으로 변경 */\n    color: #e0e0e0; /* 선택 필드 텍스트 색상 밝은 회색으로 변경 */\n    border-radius: 4px;\n`;\n_c14 = FormSelect;\nconst SubmitButton = styled.button`\n    padding: 10px 20px;\n    background-color: #00adb5; \n    color: white;\n    border: none;\n    cursor: pointer;\n    border-radius: 4px;\n`;\n_c15 = SubmitButton;\nconst CancelButton = styled.button`\n    padding: 10px 20px;\n    background-color: #dc3545; /* 취소 버튼 색상 빨간색으로 변경 */\n    color: white;\n    border: none;\n    cursor: pointer;\n    border-radius: 4px;\n`;\n_c16 = CancelButton;\nconst DeleteButton = styled.button`\n    padding: 10px 20px;\n    background-color: #dc3545; /* 삭제 버튼 색상 빨간색으로 변경 */\n    color: white;\n    border: none;\n    cursor: pointer;\n    margin-top: 10px;\n    border-radius: 4px;\n`;\n_c17 = DeleteButton;\nexport function NoticesModal() {\n  _s();\n  const [notices, setNotices] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [selectedNotice, setSelectedNotice] = useState(null);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [isFormVisible, setIsFormVisible] = useState(false);\n  const [newNotice, setNewNotice] = useState({\n    categoryId: '',\n    title: '',\n    content: ''\n  });\n  const noticesPerPage = 5;\n\n  // 공지사항 카테고리 이름 변환 함수\n  const getCategoryName = categoryId => {\n    switch (categoryId) {\n      case '01':\n        return '일반공지';\n      case '02':\n        return '수강정보';\n      case '99':\n        return '기타';\n      default:\n        return '알 수 없음';\n    }\n  };\n\n  // 서버에서 공지사항 데이터를 가져오는 함수\n  const fetchNotices = async page => {\n    try {\n      const data = await getAllNotices(page - 1, noticesPerPage);\n      setNotices(data.content);\n      setTotalPages(data.totalPages);\n      setLoading(false);\n    } catch (error) {\n      setError(error);\n      setLoading(false);\n    }\n  };\n\n  // 로그인 상태 확인 함수\n  const checkLoginStatus = async () => {\n    try {\n      const user = await getCurrentUser();\n      if (user && user.userId) {\n        const isAdminUser = user.authority && user.authority.authorityName === \"ROLE_ADMIN\";\n        setIsAdmin(isAdminUser);\n      }\n    } catch (error) {\n      console.error(\"Error fetching current user:\", error);\n    }\n  };\n\n  // 게시글 클릭 시 상세 내용을 불러오는 함수\n  const loadNoticeDetails = async id => {\n    try {\n      const notice = await getNoticeById(id);\n      if (notice) {\n        setSelectedNotice(notice);\n      } else {\n        console.error(\"공지사항이 존재하지 않습니다.\");\n      }\n    } catch (error) {\n      console.error('Error loading notice details:', error);\n    }\n  };\n\n  // 게시글 삭제 함수 (관리자 전용)\n  const deleteSelectedNotice = async id => {\n    if (window.confirm('정말로 이 공지사항을 삭제하시겠습니까?')) {\n      try {\n        await deleteNotice(id);\n        alert('공지사항이 삭제되었습니다.');\n        setSelectedNotice(null);\n        fetchNotices(page); // 삭제 후 목록 새로고침\n      } catch (error) {\n        console.error('Error deleting notice:', error);\n        alert('공지사항 삭제 중 오류가 발생했습니다.');\n      }\n    }\n  };\n\n  // 공지사항 작성 폼 제출 함수\n  const submitNotice = async e => {\n    e.preventDefault();\n    try {\n      await createNotice({\n        categoryId: newNotice.categoryId,\n        lmsNoticesTitle: newNotice.title,\n        lmsNoticesContent: newNotice.content,\n        user: {\n          userId: '관리자'\n        } // 실제 로그인된 사용자로 교체 필요\n      });\n      alert('새 공지사항이 작성되었습니다.');\n      setIsFormVisible(false);\n      fetchNotices(page); // 목록 새로고침\n    } catch (error) {\n      console.error('Error submitting notice:', error);\n    }\n  };\n\n  // 목록으로 돌아가기 함수\n  const backToList = () => {\n    setSelectedNotice(null);\n  };\n  useEffect(() => {\n    fetchNotices(page);\n    checkLoginStatus();\n  }, [page]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 262,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Error fetching notices\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 263,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(NoticeBoardContainer, {\n      children: [/*#__PURE__*/_jsxDEV(H1, {\n        children: \"\\uACF5\\uC9C0\\uC0AC\\uD56D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 13\n      }, this), isFormVisible ? /*#__PURE__*/_jsxDEV(NoticeForm, {\n        onSubmit: submitNotice,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uC0C8 \\uACF5\\uC9C0\\uC0AC\\uD56D \\uC791\\uC131\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uCE74\\uD14C\\uACE0\\uB9AC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormSelect, {\n          value: newNotice.categoryId,\n          onChange: e => setNewNotice({\n            ...newNotice,\n            categoryId: e.target.value\n          }),\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\uCE74\\uD14C\\uACE0\\uB9AC \\uC120\\uD0DD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"01\",\n            children: \"\\uC77C\\uBC18\\uACF5\\uC9C0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"02\",\n            children: \"\\uC218\\uAC15\\uC815\\uBCF4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"99\",\n            children: \"\\uAE30\\uD0C0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uC81C\\uBAA9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n          type: \"text\",\n          value: newNotice.title,\n          onChange: e => setNewNotice({\n            ...newNotice,\n            title: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uB0B4\\uC6A9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormTextarea, {\n          value: newNotice.content,\n          onChange: e => setNewNotice({\n            ...newNotice,\n            content: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n          type: \"submit\",\n          children: \"\\uC791\\uC131\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(CancelButton, {\n          type: \"button\",\n          onClick: () => setIsFormVisible(false),\n          children: \"\\uCDE8\\uC18C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: selectedNotice ? /*#__PURE__*/_jsxDEV(NoticeDetail, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: selectedNotice.lmsNoticesTitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: selectedNotice.lmsNoticesContent\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uC791\\uC131\\uC790: \", selectedNotice.user ? selectedNotice.user.userNameKor : '관리자']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uB4F1\\uB85D\\uC77C: \", new Date(selectedNotice.lmsNoticesWritingDate).toLocaleDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uC870\\uD68C\\uC218: \", selectedNotice.lmsNoticesViewCount]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: backToList,\n            children: \"\\uBAA9\\uB85D\\uC73C\\uB85C \\uB3CC\\uC544\\uAC00\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 29\n          }, this), isAdmin && /*#__PURE__*/_jsxDEV(DeleteButton, {\n            onClick: () => deleteSelectedNotice(selectedNotice.lmsNoticesSeq),\n            children: \"\\uC0AD\\uC81C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(NoticeTable, {\n            children: [/*#__PURE__*/_jsxDEV(TableHead, {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(TableHeader, {\n                  children: \"No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableHeader, {\n                  children: \"\\uCE74\\uD14C\\uACE0\\uB9AC\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableHeader, {\n                  children: \"\\uC81C\\uBAA9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableHeader, {\n                  children: \"\\uC791\\uC131\\uC790\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableHeader, {\n                  children: \"\\uB4F1\\uB85D\\uC77C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(TableHeader, {\n                  children: \"\\uC870\\uD68C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: notices.map((notice, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(TableData, {\n                  children: index + 1 + (page - 1) * noticesPerPage\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(TableData, {\n                  children: getCategoryName(notice.categoryId)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(TableData, {\n                  className: \"notice-title\",\n                  style: {\n                    cursor: 'pointer'\n                  },\n                  onClick: () => loadNoticeDetails(notice.lmsNoticesSeq),\n                  children: notice.lmsNoticesTitle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(TableData, {\n                  children: notice.user ? notice.user.userNameKor : '관리자'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(TableData, {\n                  children: new Date(notice.lmsNoticesWritingDate).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(TableData, {\n                  children: notice.lmsNoticesViewCount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 45\n                }, this)]\n              }, notice.lmsNoticesSeq, true, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 41\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(PaginationContainer, {\n            children: [/*#__PURE__*/_jsxDEV(PaginationButton, {\n              onClick: () => setPage(page - 1),\n              disabled: page === 1,\n              children: \"\\uC774\\uC804\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 33\n            }, this), Array.from({\n              length: totalPages\n            }, (_, i) => /*#__PURE__*/_jsxDEV(PaginationButton, {\n              onClick: () => setPage(i + 1),\n              disabled: i + 1 === page,\n              children: i + 1\n            }, i + 1, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 37\n            }, this)), /*#__PURE__*/_jsxDEV(PaginationButton, {\n              onClick: () => setPage(page + 1),\n              disabled: page === totalPages,\n              children: \"\\uB2E4\\uC74C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 29\n          }, this), isAdmin && /*#__PURE__*/_jsxDEV(CreateNoticeButton, {\n            onClick: () => setIsFormVisible(true),\n            children: \"\\uC0C8 \\uACF5\\uC9C0\\uC0AC\\uD56D \\uC791\\uC131\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true)\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n_s(NoticesModal, \"FSg//NRB/d9zcRw3cLw6oLiFKU8=\");\n_c18 = NoticesModal;\nexport default NoticesModal;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18;\n$RefreshReg$(_c, \"H1\");\n$RefreshReg$(_c2, \"NoticeBoardContainer\");\n$RefreshReg$(_c3, \"NoticeTable\");\n$RefreshReg$(_c4, \"TableHead\");\n$RefreshReg$(_c5, \"TableHeader\");\n$RefreshReg$(_c6, \"TableData\");\n$RefreshReg$(_c7, \"PaginationContainer\");\n$RefreshReg$(_c8, \"PaginationButton\");\n$RefreshReg$(_c9, \"CreateNoticeButton\");\n$RefreshReg$(_c10, \"NoticeDetail\");\n$RefreshReg$(_c11, \"NoticeForm\");\n$RefreshReg$(_c12, \"FormInput\");\n$RefreshReg$(_c13, \"FormTextarea\");\n$RefreshReg$(_c14, \"FormSelect\");\n$RefreshReg$(_c15, \"SubmitButton\");\n$RefreshReg$(_c16, \"CancelButton\");\n$RefreshReg$(_c17, \"DeleteButton\");\n$RefreshReg$(_c18, \"NoticesModal\");","map":{"version":3,"names":["React","useEffect","useState","styled","getAllNotices","getNoticeById","getCurrentUser","createNotice","deleteNotice","Navbar","LeftSidebar","RightSidebar","jsxDEV","_jsxDEV","Fragment","_Fragment","H1","div","_c","NoticeBoardContainer","_c2","Title","h2","NoticeTable","table","_c3","TableHead","thead","_c4","TableHeader","th","_c5","TableData","td","_c6","PaginationContainer","_c7","PaginationButton","button","props","disabled","_c8","CreateNoticeButton","_c9","NoticeDetail","_c10","NoticeForm","form","_c11","FormInput","input","_c12","FormTextarea","textarea","_c13","FormSelect","select","_c14","SubmitButton","_c15","CancelButton","_c16","DeleteButton","_c17","NoticesModal","_s","notices","setNotices","loading","setLoading","error","setError","page","setPage","totalPages","setTotalPages","selectedNotice","setSelectedNotice","isAdmin","setIsAdmin","isFormVisible","setIsFormVisible","newNotice","setNewNotice","categoryId","title","content","noticesPerPage","getCategoryName","fetchNotices","data","checkLoginStatus","user","userId","isAdminUser","authority","authorityName","console","loadNoticeDetails","id","notice","deleteSelectedNotice","window","confirm","alert","submitNotice","e","preventDefault","lmsNoticesTitle","lmsNoticesContent","backToList","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","required","type","onClick","userNameKor","Date","lmsNoticesWritingDate","toLocaleDateString","lmsNoticesViewCount","lmsNoticesSeq","map","index","className","style","cursor","Array","from","length","_","i","_c18","$RefreshReg$"],"sources":["C:/Users/User/Documents/GitHub/lms_app/src/Components/LMS/Community/NoticesModal.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { getAllNotices, getNoticeById, getCurrentUser, createNotice, deleteNotice } from \"../../../Api/CommunityApi/CommunityApi\";\nimport { Navbar } from \"../Navbar\";\nimport { LeftSidebar, RightSidebar } from \"../Sidebar\";\n\n// styled-components 스타일 정의\nconst H1 = styled.div`\n    text-align: center;\n    display: block;\n    font-size: 2em;\n    margin-block-start: 0.67em;\n    margin-block-end: 0.67em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n    font-weight: bold;\n    unicode-bidi: isolate;\n`;\n\nconst NoticeBoardContainer = styled.div`\n    margin: 20px;\n    color: #e0e0e0; /* 텍스트 색상 변경 */\n    background-color: #0f1015; /* 배경색 변경 */\n    padding: 20px;\n    margin-top: 5%;\n    border-radius: 8px;\n`;\n\nconst Title = styled.h2`\n    margin-bottom: 20px;\n`;\n\nconst NoticeTable = styled.table`\n    width: 100%;\n    border-collapse: collapse;\n    background-color: #1c1e24; /* 배경색 짙은 회색 */\n`;\n\nconst TableHead = styled.thead`\n    background-color: #23262d; /* 테이블 헤더 배경색 어두운 회색 */\n`;\n\nconst TableHeader = styled.th`\n    border: 1px solid #333;\n    padding: 8px;\n    text-align: center;\n    color: #ffffff; /* 텍스트 색상 흰색 */\n`;\n\nconst TableData = styled.td`\n    border: 1px solid #333;\n    padding: 8px;\n    text-align: center;\n    color: #e0e0e0; /* 텍스트 색상 밝은 회색 */\n`;\n\nconst PaginationContainer = styled.div`\n    margin-top: 20px;\n    display: flex;\n    justify-content: center;\n`;\n\nconst PaginationButton = styled.button`\n    margin: 0 5px;\n    padding: 5px 10px;\n    background-color: ${(props) => (props.disabled ? '#555' : '#00adb5')}; /* 비활성화 시 어두운 회색, 활성화 시 파란색 */\n    color: white;\n    border: none;\n    cursor: ${(props) => (props.disabled ? 'not-allowed' : 'pointer')};\n    border-radius: 4px;\n`;\n\nconst CreateNoticeButton = styled.button`\n    margin-top: 20px;\n    padding: 10px 20px;\n    background-color: #00adb5; \n    color: white;\n    border: none;\n    cursor: pointer;\n    display: block;\n    margin-left: auto;\n    border-radius: 4px;\n`;\n\nconst NoticeDetail = styled.div`\n    margin: 20px 0;\n    padding: 20px;\n    border: 1px solid #333; /* 테두리 색상 어둡게 변경 */\n    background-color: #23262d; /* 상세보기 배경색 어두운 회색으로 변경 */\n    color: #e0e0e0; /* 텍스트 색상 밝은 회색으로 변경 */\n    border-radius: 8px;\n`;\n\nconst NoticeForm = styled.form`\n    margin-top: 20px;\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n`;\n\nconst FormInput = styled.input`\n    padding: 10px;\n    border: 1px solid #444; /* 입력 필드 테두리 어둡게 변경 */\n    background-color: #1c1e24; /* 입력 필드 배경색 어두운 회색으로 변경 */\n    color: #e0e0e0; /* 입력 필드 텍스트 색상 밝은 회색으로 변경 */\n    border-radius: 4px;\n`;\n\nconst FormTextarea = styled.textarea`\n    padding: 10px;\n    border: 1px solid #444; /* 입력 필드 테두리 어둡게 변경 */\n    background-color: #1c1e24; /* 입력 필드 배경색 어두운 회색으로 변경 */\n    color: #e0e0e0; /* 입력 필드 텍스트 색상 밝은 회색으로 변경 */\n    border-radius: 4px;\n`;\n\nconst FormSelect = styled.select`\n    padding: 10px;\n    border: 1px solid #444; /* 선택 필드 테두리 어둡게 변경 */\n    background-color: #1c1e24; /* 선택 필드 배경색 어두운 회색으로 변경 */\n    color: #e0e0e0; /* 선택 필드 텍스트 색상 밝은 회색으로 변경 */\n    border-radius: 4px;\n`;\n\nconst SubmitButton = styled.button`\n    padding: 10px 20px;\n    background-color: #00adb5; \n    color: white;\n    border: none;\n    cursor: pointer;\n    border-radius: 4px;\n`;\n\nconst CancelButton = styled.button`\n    padding: 10px 20px;\n    background-color: #dc3545; /* 취소 버튼 색상 빨간색으로 변경 */\n    color: white;\n    border: none;\n    cursor: pointer;\n    border-radius: 4px;\n`;\n\nconst DeleteButton = styled.button`\n    padding: 10px 20px;\n    background-color: #dc3545; /* 삭제 버튼 색상 빨간색으로 변경 */\n    color: white;\n    border: none;\n    cursor: pointer;\n    margin-top: 10px;\n    border-radius: 4px;\n`;\n\nexport function NoticesModal() {\n    const [notices, setNotices] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [page, setPage] = useState(1);\n    const [totalPages, setTotalPages] = useState(1);\n    const [selectedNotice, setSelectedNotice] = useState(null);\n    const [isAdmin, setIsAdmin] = useState(false);\n    const [isFormVisible, setIsFormVisible] = useState(false);\n    const [newNotice, setNewNotice] = useState({ categoryId: '', title: '', content: '' });\n    const noticesPerPage = 5;\n\n    // 공지사항 카테고리 이름 변환 함수\n    const getCategoryName = (categoryId) => {\n        switch (categoryId) {\n            case '01':\n                return '일반공지';\n            case '02':\n                return '수강정보';\n            case '99':\n                return '기타';\n            default:\n                return '알 수 없음';\n        }\n    };\n\n    // 서버에서 공지사항 데이터를 가져오는 함수\n    const fetchNotices = async (page) => {\n        try {\n            const data = await getAllNotices(page - 1, noticesPerPage);\n            setNotices(data.content);\n            setTotalPages(data.totalPages);\n            setLoading(false);\n        } catch (error) {\n            setError(error);\n            setLoading(false);\n        }\n    };\n\n    // 로그인 상태 확인 함수\n    const checkLoginStatus = async () => {\n        try {\n            const user = await getCurrentUser();\n            if (user && user.userId) {\n                const isAdminUser = user.authority && user.authority.authorityName === \"ROLE_ADMIN\";\n                setIsAdmin(isAdminUser);\n            }\n        } catch (error) {\n            console.error(\"Error fetching current user:\", error);\n        }\n    };\n\n    // 게시글 클릭 시 상세 내용을 불러오는 함수\n    const loadNoticeDetails = async (id) => {\n        try {\n            const notice = await getNoticeById(id);\n            if (notice) {\n                setSelectedNotice(notice);\n            } else {\n                console.error(\"공지사항이 존재하지 않습니다.\");\n            }\n        } catch (error) {\n            console.error('Error loading notice details:', error);\n        }\n    };\n\n    // 게시글 삭제 함수 (관리자 전용)\n    const deleteSelectedNotice = async (id) => {\n        if (window.confirm('정말로 이 공지사항을 삭제하시겠습니까?')) {\n            try {\n                await deleteNotice(id);\n                alert('공지사항이 삭제되었습니다.');\n                setSelectedNotice(null);\n                fetchNotices(page); // 삭제 후 목록 새로고침\n            } catch (error) {\n                console.error('Error deleting notice:', error);\n                alert('공지사항 삭제 중 오류가 발생했습니다.');\n            }\n        }\n    };\n\n    // 공지사항 작성 폼 제출 함수\n    const submitNotice = async (e) => {\n        e.preventDefault();\n        try {\n            await createNotice({\n                categoryId: newNotice.categoryId,\n                lmsNoticesTitle: newNotice.title,\n                lmsNoticesContent: newNotice.content,\n                user: { userId: '관리자' } // 실제 로그인된 사용자로 교체 필요\n            });\n            alert('새 공지사항이 작성되었습니다.');\n            setIsFormVisible(false);\n            fetchNotices(page); // 목록 새로고침\n        } catch (error) {\n            console.error('Error submitting notice:', error);\n        }\n    };\n\n    // 목록으로 돌아가기 함수\n    const backToList = () => {\n        setSelectedNotice(null);\n    };\n\n    useEffect(() => {\n        fetchNotices(page);\n        checkLoginStatus();\n    }, [page]);\n\n    if (loading) return <div>Loading...</div>;\n    if (error) return <div>Error fetching notices</div>;\n\n\treturn (\n        <>\n            {/* <Navbar />\n      <LeftSidebar /> */}\n        <NoticeBoardContainer>\n            <H1>공지사항</H1>\n\n            {/* 작성 폼 모드 */}\n            {isFormVisible ? (\n                <NoticeForm onSubmit={submitNotice}>\n                    <h3>새 공지사항 작성</h3>\n                    <label>카테고리</label>\n                    <FormSelect \n                        value={newNotice.categoryId} \n                        onChange={(e) => setNewNotice({ ...newNotice, categoryId: e.target.value })} \n                        required\n                    >\n                        <option value=\"\">카테고리 선택</option>\n                        <option value=\"01\">일반공지</option>\n                        <option value=\"02\">수강정보</option>\n                        <option value=\"99\">기타</option>\n                    </FormSelect>\n                    <label>제목</label>\n                    <FormInput \n                        type=\"text\" \n                        value={newNotice.title} \n                        onChange={(e) => setNewNotice({ ...newNotice, title: e.target.value })} \n                        required \n                    />\n                    <label>내용</label>\n                    <FormTextarea \n                        value={newNotice.content} \n                        onChange={(e) => setNewNotice({ ...newNotice, content: e.target.value })} \n                        required \n                    />\n                    <SubmitButton type=\"submit\">작성</SubmitButton>\n                    <CancelButton type=\"button\" onClick={() => setIsFormVisible(false)}>취소</CancelButton>\n                </NoticeForm>\n            ) : (\n                <>\n                    {/* 상세보기 모드 */}\n                    {selectedNotice ? (\n                        <NoticeDetail>\n                            <h3>{selectedNotice.lmsNoticesTitle}</h3>\n                            <p>{selectedNotice.lmsNoticesContent}</p>\n                            <p>작성자: {selectedNotice.user ? selectedNotice.user.userNameKor : '관리자'}</p>\n                            <p>등록일: {new Date(selectedNotice.lmsNoticesWritingDate).toLocaleDateString()}</p>\n                            <p>조회수: {selectedNotice.lmsNoticesViewCount}</p>\n                            <button onClick={backToList}>목록으로 돌아가기</button>\n                            {/* 관리자일 경우 삭제 버튼 표시 */}\n                            {isAdmin && (\n                                <DeleteButton onClick={() => deleteSelectedNotice(selectedNotice.lmsNoticesSeq)}>\n                                    삭제\n                                </DeleteButton>\n                            )}\n                        </NoticeDetail>\n                    ) : (\n                        <>\n                            {/* 공지사항 목록 */}\n                            <NoticeTable>\n                                <TableHead>\n                                    <tr>\n                                        <TableHeader>No</TableHeader>\n                                        <TableHeader>카테고리</TableHeader>\n                                        <TableHeader>제목</TableHeader>\n                                        <TableHeader>작성자</TableHeader>\n                                        <TableHeader>등록일</TableHeader>\n                                        <TableHeader>조회</TableHeader>\n                                    </tr>\n                                </TableHead>\n                                <tbody>\n                                    {notices.map((notice, index) => (\n                                        <tr key={notice.lmsNoticesSeq}>\n                                            <TableData>{index + 1 + (page - 1) * noticesPerPage}</TableData>\n                                            <TableData>{getCategoryName(notice.categoryId)}</TableData>\n                                            <TableData \n                                                className=\"notice-title\"\n                                                style={{cursor: 'pointer'}}\n                                                onClick={() => loadNoticeDetails(notice.lmsNoticesSeq)} \n                                            >\n                                                {notice.lmsNoticesTitle}\n                                            </TableData>\n                                            <TableData>{notice.user ? notice.user.userNameKor : '관리자'}</TableData>\n                                            <TableData>{new Date(notice.lmsNoticesWritingDate).toLocaleDateString()}</TableData>\n                                            <TableData>{notice.lmsNoticesViewCount}</TableData>\n                                        </tr>\n                                    ))}\n                                </tbody>\n                            </NoticeTable>\n\n                            {/* 페이지네이션 */}\n                            <PaginationContainer>\n                                <PaginationButton\n                                    onClick={() => setPage(page - 1)}\n                                    disabled={page === 1}\n                                >\n                                    이전\n                                </PaginationButton>\n                                {Array.from({ length: totalPages }, (_, i) => (\n                                    <PaginationButton\n                                        key={i + 1}\n                                        onClick={() => setPage(i + 1)}\n                                        disabled={i + 1 === page}\n                                    >\n                                        {i + 1}\n                                    </PaginationButton>\n                                ))}\n                                <PaginationButton\n                                    onClick={() => setPage(page + 1)}\n                                    disabled={page === totalPages}\n                                >\n                                    다음\n                                </PaginationButton>\n                            </PaginationContainer>\n\n                            {/* 관리자일 경우에만 \"새 공지사항 작성\" 버튼을 표시 */}\n                            {isAdmin && (\n                                <CreateNoticeButton onClick={() => setIsFormVisible(true)}>\n                                    새 공지사항 작성\n                                </CreateNoticeButton>\n                            )}\n                        </>\n                    )}\n                </>\n            )}\n        </NoticeBoardContainer>\n        </>\n    );\n}\n\nexport default NoticesModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}